\chapter{Ergebnisse}

Sämtlichen Ergebisse wurden im BwUniCluster2.0 erzeugt. Sofern nicht anders erwähnt wurden
2x Intel Xeon Gold 6230
180GB RAM verwendet.


Die bereitgestellten Graphen mussten vor ihrer Nutzung gereinigt und an die Implementierung angepasst werden.
Sie enthielten isolierte Knoten, und die Kantengewichte der Sichtbarkeitsgraphen waren als Gleitkommazahlen gespeichert.
Für die Anpassung wurde ein Python-Skript benutzt, das folgende Aufgaben durchführt:

\begin{itemize}
    \item
          Transformation der Kantengewichte.

    \item
          Entfernung isolierter Knoten.

    \item
          Anpassung der Knoten-IDs, sodass die Knoten-IDs im Sichtbarkeitsgraphen den Bereich $0, \dotsc, n$ und im triangulierten Graphen den Bereich $0, \dotsc, n + m$ umfassen.
\end{itemize}

Während der Untersuchung der triangulierten Graphen wurde festgestellt, dass einige Kanten ein Gewicht von 0 aufwiesen.
Diese Kanten wurden unverändert beibehalten.

medi und pata Sichtbarkeitsgraphen fehlten jeweils einige Kanten, damit sie ungerichtet sind.
Diese wurden von Hand ergänzt.

\section{Untersuchung der Graphen}

% \begin{tikzpicture}
%     \begin{axis}[ybar]
% 
%         \addplot table [
%                 x expr=\coordindex,
%                 y index=0,
%             ] {data/degree/aegaeis-ref-graph.csv};
% 
%     \end{axis}
% \end{tikzpicture}

plot edge degree

vergleich der Abstände im vis und graph, sortiert nach hops in vis.




Vielleicht nur n mal insgesammt updaten? alle 10\% neu berechnen?



Heuristic egde difference (zufall)
Vis graphen haben sehr hohen degree (TODO Beweis).
Daher degree x degree viele checks, das gehtn schnell in die Millionen bis Milliarden.
Idee: betrachte nur ein Subset (tails, heads) und schaue ob und wie genau dieses die Edge difference aproximiert.

Das kann dann wieder für andere Methoden benutzt werden.

Plot hitting set vs bottom-up order

\section{Dijkstra}

Für die Berechnung des Speedups der in dieser Arbeit angewandeten Methoden wurden für jeden Graph \num{1000} sequentielle $s-t$ Dijkstra-Suchen asugeführt und die durschnittliche Laufzeit ermittelt.
Die durschnittliche Laufzeiten für das Finden und erstellen des kürzesten Pfad sind in Tabelle \ref{ergebnisse::table:dijkstra_one_to_one} dargestellt.
Es ist ersichtlich, dass die Sichtbarkeitsgraphen im Vergleich zu ihren Triangulierungen deutlich höhere Laufzeiten haben.

\begin{table}[ht]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 4.1] % Zeit
        }
        \toprule
        {Graph}            & {$\varnothing$ t (ms)} \\ \midrule
        aegaeis-graph      & 60.281198              \\
        aegaeis-visibility & 630.434928             \\
        medi-graph         & 87.08376               \\
        medi-visibility    & 1279.67479             \\
        pata-graph         & 265.825771             \\
        pata-visibility    & 1017.695977            \\ \bottomrule
    \end{tabular}
    \caption{Durchschnitliche Laufzeit einer Dijkstra Suche (über \num{1000} sequentielle Suchen)}
    \label{ergebnisse::table:dijkstra_one_to_one}
\end{table}

Zusätzlich zur durschnitlichen Laufzeit wurde die die Durschnitswerte der Hop-Länge, des Dijsktra-Rank und der Queue pops ermittelt, um ein Verständnis für die Laufzeiten zu erlangen.
Es zeigte sich, dass die durschnittliche Hop-Länge der Sichtbarkeitsgraphen deutlich signifikant kürzer ist, als die der Triangulierungen.
Obwohl die Sichtbarkeitsgraphen eine niedriger Anzahl an Knoten haben, ist die durschnitliche Anzahl der Queue pops größer.
Dies legt Nahe, dass die verwendung einer Warteschlange, welche eine \emph{Drecrease-Key} Funktion anbietet, die Geschwindigkeit der Dijkstra Suche erhöhen würde.

\begin{table}[ht]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 3.1] % hop-länge
            S[table-format = 7.0] % rank
            S[table-format = 7.0] % queue pops
        }
        \toprule
        {Graph}            & {Hop-Länge} & {Rank}    & {Queue pops} \\ \midrule
        aegaeis-graph      & 215.7201    & 260447.36 & 325845.56    \\
        aegaeis-visibility & 16.311      & 98650.82  & 517346.63    \\
        medi-graph         & 340.445     & 394855.78 & 494553.97    \\
        medi-visibility    & 23.6149     & 154092.42 & 959206.4     \\
        pata-graph         & 883.979     & 1120841.9 & 1387047.8    \\
        pata-visibility    & 63.817      & 498570.2  & 2429689.8    \\ \bottomrule
    \end{tabular}
    \caption{Durschnitliche Kennwerte der Dijkstra Suchen (über \num{10000} Suchen)}
\end{table}

\section{CH mit Witness}

Es wurde versucht die CH mit Witness, Edge Difference, Lacy Popping zu erstellen.
Dies hat für die Sichtbarkeitsgraphen nicht funktioniert, da 3 Tage nicht ausreichten die Graphen zu erzeugen.
Die Suche ist einfach zu teuer.
Pro Vorgänger muss eine Suche zu allen Nachfolgern gemacht werden.

\begin{table}[ht]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 1.2] % creation zeit
            S[table-format = 4.1] % average time
            S[table-format = 4.1] % speedup
        }
        \toprule
        {Graph}       & {creation time (min)} & {$\varnothing$ t (µs)} & {speedup} \\ \midrule
        aegaeis-graph & 2.1336                & 514.069                & 117.263   \\
        medi-graph    & 3.08033333333         & 543.803                & 160.138   \\
        pata-graph    & 9.84055               & 730.317                & 363.987   \\\bottomrule
    \end{tabular}
    \caption{ch one-to-one, averaged over 1000 sequential searches}
\end{table}

\section{CH All-In}

All in sortiert nach all in edge differnce:


\section{Hitting Set}

Für die Graphen wurden jeweils ein Hitting Set über \num{100000} Pfade erstellt.
Diese Pfade wurden mit Dijkstra erstellt.

Wie hitbar sind die Graphen? plote hit percentage

\section{CH Bruteforce}

\begin{table}[h]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 1.2] % creation zeit
            S[table-format = 4.1] % average time
        }
        \toprule
        {Graph}            & {creation time (min)} & {$\varnothing$ t (µs)} \\ \midrule
        aegaeis-graph      &                       &                        \\
        aegaeis-visibility &                       &                        \\
        medi-graph         &                       &                        \\
        medi-visibility    &                       &                        \\
        pata-graph         &                       &                        \\
        pata-visibility    &                       &                        \\  \bottomrule
    \end{tabular}
    \caption{ch one-to-one, averaged over 1000 sequential searches}
\end{table}

\section{HL Merge}

Das Merging war deutlicht teruer als erwartet, da ch Kantengrad x HL Label Size

\begin{table}[h]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 1.2] % creation zeit
            S[table-format = 4.1] % average time
        }
        \toprule
        {Graph}            & {creation time (min)} & {$\varnothing$ t (µs)} \\ \midrule
        aegaeis-graph      &                       &                        \\
        aegaeis-visibility &                       &                        \\
        medi-graph         &                       &                        \\
        medi-visibility    &                       &                        \\
        pata-graph         &                       &                        \\
        pata-visibility    &                       &                        \\  \bottomrule
    \end{tabular}
    \caption{hl one-to-one, averaged over 1000 sequential searches}
\end{table}

\section{HL Bruteforce}

\begin{table}[h]
    \centering
    \begin{tabular}{
            l % Graph
            S[table-format = 1.2] % creation zeit
            S[table-format = 4.1] % average time
        }
        \toprule
        {Graph}            & {creation time (min)} & {$\varnothing$ t (µs)} \\ \midrule
        aegaeis-graph      &                       &                        \\
        aegaeis-visibility &                       &                        \\
        medi-graph         &                       &                        \\
        medi-visibility    &                       &                        \\
        pata-graph         &                       &                        \\
        pata-visibility    &                       &                        \\  \bottomrule
    \end{tabular}
    \caption{hl one-to-one, averaged over 1000 sequential searches}
\end{table}
